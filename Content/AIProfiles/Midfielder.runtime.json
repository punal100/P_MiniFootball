{
    "name": "Midfielder",
    "initialState": "Main",
    "blackboard": [
        {
            "key": "HasBall",
            "value": {
                "type": "Bool",
                "rawValue": "false"
            }
        },
        {
            "key": "Role",
            "value": {
                "type": "String",
                "rawValue": "Midfielder"
            }
        },
        {
            "key": "TeamID",
            "value": {
                "type": "Float",
                "rawValue": "0"
            }
        }
    ],
    "states": [
        {
            "id": "Main",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Midfielder AI Active\" }"
                }
            ],
            "onTick": [],
            "onExit": [],
            "transitions": [
                {
                    "to": "PassToStriker",
                    "priority": 875,
                    "condition": {
                        "type": "And",
                        "conditions": [
                            {
                                "type": "Blackboard",
                                "keyOrName": "HasBall",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "HasStriker",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "DistToStriker",
                                "op": "LessThan",
                                "compareValue": {
                                    "type": "Float",
                                    "rawValue": "4500.0"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "DistToOpponentGoal",
                                "op": "GreaterThan",
                                "compareValue": {
                                    "type": "Float",
                                    "rawValue": "2500.0"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "IsInDanger",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "false"
                                }
                            }
                        ]
                    }
                },
                {
                    "to": "Shoot",
                    "priority": 900,
                    "condition": {
                        "type": "And",
                        "conditions": [
                            {
                                "type": "Blackboard",
                                "keyOrName": "HasBall",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "HasClearShot",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "DistToOpponentGoal",
                                "op": "LessThan",
                                "compareValue": {
                                    "type": "Float",
                                    "rawValue": "2500.0"
                                }
                            }
                        ]
                    }
                },
                {
                    "to": "AvoidEnemy",
                    "priority": 850,
                    "condition": {
                        "type": "And",
                        "conditions": [
                            {
                                "type": "Blackboard",
                                "keyOrName": "HasBall",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "IsInDanger",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            }
                        ]
                    }
                },
                {
                    "to": "DribbleForward",
                    "priority": 800,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "HasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "true"
                        }
                    }
                },
                {
                    "to": "PressBall",
                    "priority": 750,
                    "condition": {
                        "type": "And",
                        "conditions": [
                            {
                                "type": "Blackboard",
                                "keyOrName": "IsBallInPlay",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "And",
                                "conditions": [
                                    {
                                        "type": "Blackboard",
                                        "keyOrName": "OpponentHasBall",
                                        "op": "Equal",
                                        "compareValue": {
                                            "type": "Bool",
                                            "rawValue": "true"
                                        }
                                    },
                                    {
                                        "type": "Or",
                                        "conditions": [
                                            {
                                                "type": "Blackboard",
                                                "keyOrName": "AmIClosestToBall",
                                                "op": "Equal",
                                                "compareValue": {
                                                    "type": "Bool",
                                                    "rawValue": "true"
                                                }
                                            },
                                            {
                                                "type": "Blackboard",
                                                "keyOrName": "DistToBall",
                                                "op": "LessThan",
                                                "compareValue": {
                                                    "type": "Float",
                                                    "rawValue": "1000.0"
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                },
                {
                    "to": "ChaseBall",
                    "priority": 700,
                    "condition": {
                        "type": "And",
                        "conditions": [
                            {
                                "type": "Blackboard",
                                "keyOrName": "HasBall",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "false"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "IsBallInPlay",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "Or",
                                "conditions": [
                                    {
                                        "type": "Blackboard",
                                        "keyOrName": "AmIClosestToBall",
                                        "op": "Equal",
                                        "compareValue": {
                                            "type": "Bool",
                                            "rawValue": "true"
                                        }
                                    },
                                    {
                                        "type": "Blackboard",
                                        "keyOrName": "DistToBall",
                                        "op": "LessThan",
                                        "compareValue": {
                                            "type": "Float",
                                            "rawValue": "1000.0"
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                },
                {
                    "to": "SupportDefense",
                    "priority": 600,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "OpponentHasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "true"
                        }
                    }
                },
                {
                    "to": "SupportAttack",
                    "priority": 500,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "TeamHasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "true"
                        }
                    }
                },
                {
                    "to": "ControlMidfield",
                    "priority": 100,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "DistToSupportPosition",
                        "op": "GreaterThan",
                        "compareValue": {
                            "type": "Float",
                            "rawValue": "100.0"
                        }
                    }
                }
            ]
        },
        {
            "id": "PassToStriker",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Passing to striker\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Pass\", \"params\": { \"target\": \"Striker\" } }"
                }
            ],
            "onTick": [],
            "onExit": [],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Timer",
                        "seconds": 0.3
                    }
                }
            ]
        },
        {
            "id": "Shoot",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Taking shot!\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Face\", \"params\": { \"target\": \"Goal_Opponent\" } }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Shoot\", \"params\": { \"power\": 0.8 } }"
                }
            ],
            "onTick": [],
            "onExit": [],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Timer",
                        "seconds": 0.5
                    }
                }
            ]
        },
        {
            "id": "DribbleForward",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Dribbling forward\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": true } }"
                }
            ],
            "onTick": [
                {
                    "actionName": "MoveTo",
                    "paramsJson": "{ \"target\": \"Goal_Opponent\" }"
                }
            ],
            "onExit": [
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": false } }"
                }
            ],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "HasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "false"
                        }
                    }
                },
                {
                    "to": "AvoidEnemy",
                    "priority": 90,
                    "condition": {
                        "type": "And",
                        "conditions": [
                            {
                                "type": "Blackboard",
                                "keyOrName": "HasBall",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "IsInDanger",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            }
                        ]
                    }
                },
                {
                    "to": "Main",
                    "priority": 75,
                    "condition": {
                        "type": "Timer",
                        "seconds": 2.0
                    }
                },
                {
                    "to": "Main",
                    "priority": 80,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "IsInDanger",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "true"
                        }
                    }
                }
            ]
        },
        {
            "id": "ChaseBall",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Chasing ball\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": true } }"
                }
            ],
            "onTick": [
                {
                    "actionName": "MoveTo",
                    "paramsJson": "{ \"target\": \"BallCarrierIntercept\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Face\", \"params\": { \"target\": \"BallCarrier\" } }"
                }
            ],
            "onExit": [
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": false } }"
                }
            ],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "HasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "true"
                        }
                    }
                },
                {
                    "to": "Main",
                    "priority": 50,
                    "condition": {
                        "type": "And",
                        "conditions": [
                            {
                                "type": "Blackboard",
                                "keyOrName": "AmIClosestToBall",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "false"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "DistToBall",
                                "op": "GreaterThan",
                                "compareValue": {
                                    "type": "Float",
                                    "rawValue": "1200.0"
                                }
                            }
                        ]
                    }
                }
            ]
        },
        {
            "id": "PressBall",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Pressing ball carrier!\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": true } }"
                }
            ],
            "onTick": [
                {
                    "actionName": "MoveTo",
                    "paramsJson": "{ \"target\": \"BallCarrierIntercept\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Face\", \"params\": { \"target\": \"BallCarrier\" } }"
                }
            ],
            "onExit": [
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": false } }"
                }
            ],
            "transitions": [
                {
                    "to": "Tackle",
                    "priority": 110,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "DistToNearestOpponent",
                        "op": "LessThan",
                        "compareValue": {
                            "type": "Float",
                            "rawValue": "350.0"
                        }
                    }
                },
                {
                    "to": "Tackle",
                    "priority": 100,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "DistToBall",
                        "op": "LessThan",
                        "compareValue": {
                            "type": "Float",
                            "rawValue": "550.0"
                        }
                    }
                },
                {
                    "to": "Main",
                    "priority": 50,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "AmIClosestToBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "false"
                        }
                    }
                }
            ]
        },
        {
            "id": "Tackle",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Tackling!\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": true } }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Face\", \"params\": { \"target\": \"BallCarrier\" } }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Tackle\" }"
                }
            ],
            "onTick": [
                {
                    "actionName": "MoveTo",
                    "paramsJson": "{ \"target\": \"BallCarrierIntercept\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Face\", \"params\": { \"target\": \"BallCarrier\" } }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Tackle\" }"
                }
            ],
            "onExit": [
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": false } }"
                }
            ],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Timer",
                        "seconds": 0.5
                    }
                }
            ]
        },
        {
            "id": "SupportDefense",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Dropping back to defend\" }"
                }
            ],
            "onTick": [
                {
                    "actionName": "MoveTo",
                    "paramsJson": "{ \"target\": \"SupportPosition\" }"
                }
            ],
            "onExit": [],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 1000,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "HasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "true"
                        }
                    }
                },
                {
                    "to": "Tackle",
                    "priority": 300,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "DistToBall",
                        "op": "LessThan",
                        "compareValue": {
                            "type": "Float",
                            "rawValue": "550.0"
                        }
                    }
                },
                {
                    "to": "PressBall",
                    "priority": 200,
                    "condition": {
                        "type": "Or",
                        "conditions": [
                            {
                                "type": "Blackboard",
                                "keyOrName": "AmIClosestToBall",
                                "op": "Equal",
                                "compareValue": {
                                    "type": "Bool",
                                    "rawValue": "true"
                                }
                            },
                            {
                                "type": "Blackboard",
                                "keyOrName": "DistToBall",
                                "op": "LessThan",
                                "compareValue": {
                                    "type": "Float",
                                    "rawValue": "1200.0"
                                }
                            }
                        ]
                    }
                },
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "OpponentHasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "false"
                        }
                    }
                }
            ]
        },
        {
            "id": "SupportAttack",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Moving up to support\" }"
                }
            ],
            "onTick": [
                {
                    "actionName": "MoveTo",
                    "paramsJson": "{ \"target\": \"SupportPosition\" }"
                }
            ],
            "onExit": [],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "TeamHasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "false"
                        }
                    }
                },
                {
                    "to": "Main",
                    "priority": 1000,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "HasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "true"
                        }
                    }
                }
            ]
        },
        {
            "id": "ControlMidfield",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Holding midfield\" }"
                }
            ],
            "onTick": [
                {
                    "actionName": "MoveTo",
                    "paramsJson": "{ \"target\": \"SupportPosition\" }"
                }
            ],
            "onExit": [],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 1000,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "HasBall",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "true"
                        }
                    }
                },
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "DistToSupportPosition",
                        "op": "LessThan",
                        "compareValue": {
                            "type": "Float",
                            "rawValue": "100.0"
                        }
                    }
                }
            ]
        },
        {
            "id": "AvoidEnemy",
            "terminal": false,
            "onEnter": [
                {
                    "actionName": "Log",
                    "paramsJson": "{ \"message\": \"Avoiding enemy!\" }"
                },
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": true } }"
                }
            ],
            "onTick": [
                {
                    "actionName": "MoveTo",
                    "paramsJson": "{ \"target\": \"SupportPosition\" }"
                }
            ],
            "onExit": [
                {
                    "actionName": "Execute",
                    "paramsJson": "{ \"target\": \"MF.Sprint\", \"params\": { \"active\": false } }"
                }
            ],
            "transitions": [
                {
                    "to": "Main",
                    "priority": 100,
                    "condition": {
                        "type": "Blackboard",
                        "keyOrName": "IsInDanger",
                        "op": "Equal",
                        "compareValue": {
                            "type": "Bool",
                            "rawValue": "false"
                        }
                    }
                }
            ]
        }
    ]
}